var I=Object.defineProperty;var P=Object.getOwnPropertySymbols;var W=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var V=(l,e,s)=>e in l?I(l,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[e]=s,B=(l,e)=>{for(var s in e||(e={}))W.call(e,s)&&V(l,s,e[s]);if(P)for(var s of P(e))D.call(e,s)&&V(l,s,e[s]);return l};var L=(l,e,s)=>new Promise((a,_)=>{var h=n=>{try{p(s.next(n))}catch(c){_(c)}},u=n=>{try{p(s.throw(n))}catch(c){_(c)}},p=n=>n.done?a(n.value):Promise.resolve(n.value).then(h,u);p((s=s.apply(l,e)).next())});import{L as E}from"./LeftSidebar-Bv_zMSK0.js";import{_ as j,P as q}from"./ListView-Bci8aoEt.js";import{R as G}from"./RefreshButton-DjaifwEB.js";import{_ as H,b as J,r as d,c as K,d as Q,o as X,e as b,f as r,g as i,w as R,n as z,u as Y,h as m,i as y,j as N,m as Z,t as T}from"./index-59s5irdc.js";import{_ as $}from"./Badge.vue_vue_type_script_setup_true_lang-DhqV6aGv.js";import{_ as ee,a as ae}from"./FormControl.vue_vue_type_script_setup_true_lang-DN1lN8V8.js";import"./Avatar.vue_vue_type_script_setup_true_lang-Dt0vLd5E.js";import"./index-CFFX3Mdj.js";import"./index-Cd14MKN6.js";const se={components:{LeftSidebar:E,ListView:j,Pagination:q,TextInput:ee,FormControl:ae,Badge:$,RefreshButton:G,Button:J},setup(){const l=d(!1),e=d([]),s=d([]),a=d(!1),_=d([{label:"Name",key:"name"},{label:"Address",key:"address_type"},{label:"City",key:"city"},{label:"State",key:"state"},{label:"Postal Code",key:"pincode"}]),h=K({url:"v1portal.v1portal.api.api.get_address",method:"get"}),u=()=>L(this,null,function*(){try{a.value=!0;const o=yield h.fetch();e.value=o.map(S=>B({},S))}catch(o){console.error("Error fetching data:",o)}finally{a.value=!1}}),p=()=>{u()},n=()=>{l.value=!l.value},c=Y(),w=()=>{c.push({name:"addressNew"})},C=o=>{o&&o.name?c.push({name:"addresses",params:{id:o.name}}):console.error("Row data is invalid:",o)},x=o=>{s.value=o},k=()=>{t.value="",f.value="",v.value="",g.value=""},t=d(""),f=d(""),v=d(""),g=d(""),A=Q(()=>e.value.filter(o=>{const S=o.name.toLowerCase().includes(t.value.toLowerCase()),U=o.address_type.toLowerCase()===f.value.toLowerCase()||!f.value,F=o.city.toString().includes(v.value.toString())||!v.value,M=o.pincode.toString().includes(g.value.toString())||!g.value;return S&&U&&F&&M})),O=o=>{switch(o){case"Shipping":return{theme:"red"};case"Billing":return{theme:"blue"};case"Plant":return{theme:"green"};case"Warehouse":return{theme:"orange"};default:return{theme:"gray"}}};return X(()=>{u()}),{isSidebarCollapsed:l,rows:e,columns:_,toggleSidebar:n,OpenClick:C,updatePaginatedRows:x,paginatedRows:s,openCreate:w,filterName:t,filterAddress:f,filterCity:v,filteredRows:A,filterPost:g,resetFilters:k,getaddress_typeTheme:O,reload:p,isLoading:a}}},te={class:"h-[calc(100vh)] overflow-hidden flex flex-col"},oe={class:"head-content"},le={class:"border-b bg-white px-5 py-5.5 sm:px-5"},ne={class:"float-right -mt-3"},re={class:"main-content overflow-hidden flex flex-col"},ie={class:"fiter mb-2 flex gap-3"},de={class:"flex ml-auto"},ce={class:"refers ml-2"},me={key:0},ue={key:1},pe={class:"text-black text-base",style:{"max-width":"170px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",display:"block"}},fe={key:2},_e={class:"font-small text-gray-700 text-base",style:{"max-width":"170px",overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap",display:"block"}};function he(l,e,s,a,_,h){const u=m("Button"),p=m("LeftSidebar"),n=m("TextInput"),c=m("FormControl"),w=m("RefreshButton"),C=m("Badge"),x=m("ListView"),k=m("Pagination");return y(),b("div",te,[r("div",{class:z(["head-layout",{collapsed:a.isSidebarCollapsed}])},[r("div",oe,[r("header",le,[e[5]||(e[5]=r("div",{class:"float-left -mt-3"},"Addresses",-1)),r("div",ne,[i(u,{variant:"solid",theme:"gray",size:"sm",label:"Button",loading:!1,loadingText:null,disabled:!1,link:null,onClick:a.openCreate},{default:R(()=>e[4]||(e[4]=[N(" + Create ")])),_:1},8,["onClick"])])])])],2),r("div",{class:z(["layout",{collapsed:a.isSidebarCollapsed}])},[i(p,{class:"z-[8]",isCollapsed:a.isSidebarCollapsed,onToggle:a.toggleSidebar},null,8,["isCollapsed","onToggle"]),r("div",re,[r("div",ie,[i(n,{type:"search",size:"sm",variant:"subtle",placeholder:"Name",modelValue:a.filterName,"onUpdate:modelValue":e[0]||(e[0]=t=>a.filterName=t),class:"w-48"},null,8,["modelValue"]),i(c,{type:"select",options:[{},{label:"Billing",value:"Billing"},{label:"Shipping",value:"Shipping"},{label:"Office",value:"Office"},{label:"Postal",value:"Postal"},{label:"Plant",value:"Plant"},{label:"Personal",value:"Personal"},{label:"Shop",value:"Shop"},{label:"Subsidiary",value:"Subsidiary"},{label:"Warehouse",value:"Warehouse"},{label:"Other",value:"Other"},{label:"Permanent",value:"Permanent"},{label:"Current",value:"Current"}],size:"sm",variant:"subtle",placeholder:"address",modelValue:a.filterAddress,"onUpdate:modelValue":e[1]||(e[1]=t=>a.filterAddress=t),class:"w-48"},null,8,["modelValue"]),i(n,{type:"search",size:"sm",variant:"subtle",placeholder:"city",modelValue:a.filterCity,"onUpdate:modelValue":e[2]||(e[2]=t=>a.filterCity=t),class:"w-48"},null,8,["modelValue"]),i(n,{type:"search",size:"sm",variant:"subtle",placeholder:"post code",modelValue:a.filterPost,"onUpdate:modelValue":e[3]||(e[3]=t=>a.filterPost=t),class:"w-48"},null,8,["modelValue"]),r("div",de,[i(u,{variant:"subtle",theme:"gray",size:"sm",onClick:a.resetFilters},{default:R(()=>e[6]||(e[6]=[N(" Reset")])),_:1},8,["onClick"]),r("div",ce,[i(w,{onRefresh:a.reload,isLoading:a.isLoading},null,8,["onRefresh","isLoading"])])])]),i(x,{class:"h-full",columns:a.columns,rows:a.paginatedRows,options:{getRowRoute:t=>({name:"AddressDetails",params:{id:t.name}}),selectable:!0,showTooltip:!0,resizeColumn:!0,emptyState:{title:"No records found"}},"row-key":"name",onRowClick:a.OpenClick},{cell:R(({item:t,column:f})=>[f.key==="address_type"?(y(),b("div",me,[i(C,Z(a.getaddress_typeTheme(t),{size:"sm",label:t}),null,16,["label"])])):f.key==="name"?(y(),b("div",ue,[r("span",pe,T(t),1)])):(y(),b("div",fe,[r("span",_e,T(t),1)]))]),_:1},8,["columns","rows","options","onRowClick"]),i(k,{rows:a.filteredRows,"onUpdate:paginatedRows":a.updatePaginatedRows},null,8,["rows","onUpdate:paginatedRows"])])],2)])}const Pe=H(se,[["render",he],["__scopeId","data-v-1b5bdbf2"]]);export{Pe as default};
