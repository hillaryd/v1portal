var C=(p,l,n)=>new Promise((e,b)=>{var m=s=>{try{r(n.next(s))}catch(i){b(i)}},c=s=>{try{r(n.throw(s))}catch(i){b(i)}},r=s=>s.done?e(s.value):Promise.resolve(s.value).then(m,c);r((n=n.apply(p,l)).next())});import{L as q}from"./LeftSidebar-Bv_zMSK0.js";import{_ as D,b as I,r as t,c as R,q as W,o as G,e as A,f as o,g as d,n as L,v as H,u as J,h as V,i as N}from"./index-59s5irdc.js";import{_ as K}from"./Breadcrumbs.vue_vue_type_script_setup_true_lang-C_ouJCLj.js";import{a as M}from"./FormControl.vue_vue_type_script_setup_true_lang-DN1lN8V8.js";import"./Avatar.vue_vue_type_script_setup_true_lang-Dt0vLd5E.js";import"./index-CFFX3Mdj.js";const Z={components:{LeftSidebar:q,Breadcrumbs:K,Button:I,FormControl:M},setup(){const p=J(),l=t(!1),n=t(""),e=t(""),b=t(!1),m=t(""),c=t(""),r=t(""),s=t(""),i=t(""),a=t(""),_=t(""),v=t(""),y=t(""),w=t([]),x=t(""),g=t(""),B=t(""),k=t(""),S=t(""),z=t([{label:"Addresses",route:{name:"addresses"}},{label:"Create Address",route:{}}]),h=[{label:"Billing",value:"Billing"},{label:"Shipping",value:"Shipping"},{label:"Office",value:"Office"},{label:"Personal",value:"Personal"},{label:"Postal",value:"Postal"},{label:"Shop",value:"Shop"},{label:"Subsidiary",value:"Subsidiary"},{label:"Warehouse",value:"Warehouse"},{label:"Current",value:"Current"},{label:"Permanent",value:"Permanent"},{label:"Other",value:"Other"}],P=()=>{n.value="",e.value="",m.value="",c.value="",r.value="",s.value="",i.value="",a.value="",_.value="",x.value="",g.value="",k.value="",S.value=""},O=()=>C(this,null,function*(){if(!g.value||!n.value||!e.value||!r.value||!a.value||!m.value){alert("Please fill in all required fields");return}const u={address_title:n.value,address_type:e.value,city:r.value,address_line1:m.value,address_line2:c.value,state:s.value,pincode:i.value,country:a.value,email_id:_.value,phone:x.value,gstin:g.value};v.value&&(u.links=[{link_doctype:"Customer",link_name:v.value}]);try{const f=yield fetch("/api/resource/Address",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(u)});if(!f.ok){const j=yield f.text();throw new Error(`Error creating address: ${j}`)}p.push({name:"addresses"})}catch(f){console.error("Error creating address:",f)}}),T=()=>{l.value=!l.value},E=t([]),U=R({url:"v1portal.v1portal.api.api.getcustomer",auto:!0}),F=()=>C(this,null,function*(){try{b.value=!0;const u=yield U.fetch();y.value=u,console.log("Fetched data:",y.value),v.value=y.value[0],console.log("Link Name:",v.value)}catch(u){console.error("Error fetching data:",u)}finally{b.value=!1}});return W(n,u=>{z.value[1].label=u}),G(()=>{F()}),{isSidebarCollapsed:l,country:a,address_list:U,state:s,customerData:E,text:"Customer",pincode:i,address_title:n,address_type:e,address_line1:m,customOption:w,city:r,email_id:_,phone:x,linkName:v,rows:y,gstin:g,address_line2:c,toggleSidebar:T,breadcrumbsList:z,address_typeOptions:h,cancelEditing:P,createIssue:O,links_doctype:k,link_name:S,customer_name:B}}},Q={class:"head-content"},X={class:"border-b bg-white px-5 py-5.5 pb-[2.625rem] sm:px-5 mb-12"},Y={class:"main-content"},$={class:"bg-white border rounded-lg p-6 space-y-6 pb-[2.625rem] ml-[126px] mr-[120px]"},ee={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},le={key:0,class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ae={class:"flex justify-end gap-4 mt-4"};function se(p,l,n,e,b,m){const c=V("Breadcrumbs"),r=V("LeftSidebar"),s=V("FormControl"),i=V("Button");return N(),A("div",null,[o("div",{class:L(["head-layout",{collapsed:e.isSidebarCollapsed}])},[o("div",Q,[o("header",X,[d(c,{items:e.breadcrumbsList,class:"float-left"},null,8,["items"])])])],2),o("div",{class:L(["layout",{collapsed:e.isSidebarCollapsed}])},[d(r,{isCollapsed:e.isSidebarCollapsed,onToggle:e.toggleSidebar},null,8,["isCollapsed","onToggle"]),o("div",Y,[o("div",$,[l[13]||(l[13]=o("div",{class:"flex justify-between"},[o("div",null,[o("p",{class:"text-2xl font-bold text-gray-800"},"Address"),o("p",{class:"text-lg font-bold text-gray-600"})])],-1)),l[14]||(l[14]=o("div",{class:"border-b pb-7 pt-5"},null,-1)),o("div",ee,[o("div",null,[d(s,{type:"text",size:"md",variant:"subtle",label:"Address Title *",modelValue:e.address_title,"onUpdate:modelValue":l[0]||(l[0]=a=>e.address_title=a),class:"mb-5",required:""},null,8,["modelValue"]),d(s,{type:"select",size:"md",options:e.address_typeOptions,variant:"subtle",label:"Address Type *",modelValue:e.address_type,"onUpdate:modelValue":l[1]||(l[1]=a=>e.address_type=a),class:"mb-5"},null,8,["options","modelValue"]),d(s,{type:"text",size:"md",variant:"subtle",label:"Address Line 1 *",modelValue:e.address_line1,"onUpdate:modelValue":l[2]||(l[2]=a=>e.address_line1=a),class:"mb-5",required:""},null,8,["modelValue"]),d(s,{type:"text",size:"md",variant:"subtle",label:"Address Line 2",modelValue:e.address_line2,"onUpdate:modelValue":l[3]||(l[3]=a=>e.address_line2=a),class:"mb-5"},null,8,["modelValue"]),d(s,{type:"text",size:"md",variant:"subtle",label:"City *",modelValue:e.city,"onUpdate:modelValue":l[4]||(l[4]=a=>e.city=a),class:"mb-5"},null,8,["modelValue"]),d(s,{type:"text",size:"md",variant:"subtle",label:"State",modelValue:e.state,"onUpdate:modelValue":l[5]||(l[5]=a=>e.state=a),class:"mb-5"},null,8,["modelValue"])]),o("div",null,[d(s,{type:"text",size:"md",variant:"subtle",label:"Country *",modelValue:e.country,"onUpdate:modelValue":l[6]||(l[6]=a=>e.country=a),class:"mb-5"},null,8,["modelValue"]),d(s,{type:"number",size:"md",variant:"subtle",label:"Postal Code",modelValue:e.pincode,"onUpdate:modelValue":l[7]||(l[7]=a=>e.pincode=a),class:"mb-5"},null,8,["modelValue"]),d(s,{type:"email",size:"md",variant:"subtle",label:"Email",modelValue:e.email_id,"onUpdate:modelValue":l[8]||(l[8]=a=>e.email_id=a),class:"mb-5"},null,8,["modelValue"]),d(s,{type:"number",size:"md",variant:"subtle",label:"Phone",modelValue:e.phone,"onUpdate:modelValue":l[9]||(l[9]=a=>e.phone=a),class:"mb-5"},null,8,["modelValue"]),d(s,{type:"text",size:"md",variant:"subtle",placeholder:"eg-33AAKFT6215C1ZH",label:"GSTIN *",modelValue:e.gstin,"onUpdate:modelValue":l[10]||(l[10]=a=>e.gstin=a),class:"mb-5"},null,8,["modelValue"])])]),l[15]||(l[15]=o("div",{class:"border-b pb-7 pt-5"},null,-1)),e.linkName?(N(),A("div",le,[o("div",null,[d(s,{type:"text",size:"md",disabled:!0,variant:"subtle",label:"Link Doctype",modelValue:e.text,"onUpdate:modelValue":l[11]||(l[11]=a=>e.text=a),class:"mb-5"},null,8,["modelValue"])]),o("div",null,[d(s,{type:"text",size:"md",disabled:!0,variant:"subtle",label:"Link Name",modelValue:e.linkName,"onUpdate:modelValue":l[12]||(l[12]=a=>e.linkName=a),class:"mb-5"},null,8,["modelValue"])])])):H("",!0),o("div",ae,[d(i,{variant:"subtle",theme:"gray",size:"md",label:"Discard",onClick:e.cancelEditing},null,8,["onClick"]),d(i,{variant:"solid",theme:"gray",size:"md",label:"Submit",onClick:e.createIssue},null,8,["onClick"])])])])],2)])}const me=D(Z,[["render",se],["__scopeId","data-v-507bb3fa"]]);export{me as default};
