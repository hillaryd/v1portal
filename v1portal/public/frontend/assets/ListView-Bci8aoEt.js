var X=(s,e,t)=>new Promise((l,o)=>{var u=d=>{try{i(t.next(d))}catch(c){o(c)}},f=d=>{try{i(t.throw(d))}catch(c){o(c)}},i=d=>d.done?l(d.value):Promise.resolve(d.value).then(u,f);i((t=t.apply(s,e)).next())});import{_ as N,b as ae,r as j,d as y,q as J,h as ie,i as n,e as p,f as g,F as L,O as B,g as k,n as v,w as C,j as I,t as R,af as D,K as ue,m as _,k as O,ag as Q,u as de,x as b,ad as m,v as w,ah as z,l as r,ai as ce,aj as A,ak as T,p as ee,al as te,am as se,an as re,ao as ge,P as fe,R as P,ap as pe,G as K,aq as me}from"./index-59s5irdc.js";import{u as be}from"./index-CFFX3Mdj.js";import{g as he,b as ye,_ as ve,C as we,w as xe,y as ke}from"./index-Cd14MKN6.js";const $e={components:{Button:ae},props:{rows:{type:Array,required:!0}},emits:["update:paginatedRows"],setup(s,{emit:e}){const t=j(10),l=j(1),o=j(null),u=y(()=>{const d=(l.value-1)*t.value,c=d+t.value;return s.rows.slice(d,c)});return J(u,d=>{e("update:paginatedRows",d)}),{paginatedRows:u,setItemsPerPage:d=>{t.value=d,l.value=1,o.value=d},loadMoreItems:()=>{t.value+=20,l.value=1},activeButton:o}}},Ce={class:"flex justify-between gap-2 border-t sm:px-5 h-7 py-2 -ml-5"},Re={class:"flex space-x-1 h-8 rounded bg-gray-100 p-0.5 text-sm"},_e={class:"flex justify-end gap-2"},Le={class:"inline-flex items-center justify-center gap-2 transition-colors focus:outline-none text-gray-800 bg-gray-100 hover:bg-gray-200 active:bg-gray-300 focus-visible:ring focus-visible:ring-gray-400 h-7 text-base px-2 rounded"},ze={class:"text-gray-700 text-base mt-1.5"};function Se(s,e,t,l,o,u){const f=ie("Button");return n(),p("div",Ce,[g("div",Re,[(n(),p(L,null,B([20,50,100,500],i=>k(f,{key:i,variant:"subtle",theme:"gray",size:"sm",label:String(i),onClick:d=>l.setItemsPerPage(i),disabled:s.itemsPerPage===i,class:v(["flex flex-1 justify-center gap-2 whitespace-nowrap rounded-[7px] px-3 py-[5px] leading-none transition-colors focus:outline-none hover:none",[l.activeButton===i?"active":""]])},null,8,["label","onClick","disabled","class"])),64))]),g("div",_e,[g("div",Le,[k(f,{onClick:l.loadMoreItems,variant:"subtle",theme:"gray",size:"sm"},{default:C(()=>e[0]||(e[0]=[I(" Load More ")])),_:1},8,["onClick"])]),g("div",ze,R(l.paginatedRows.length)+" of "+R(t.rows.length),1)])])}const Rt=N($e,[["render",Se],["__scopeId","data-v-72883306"]]),Y=Object.keys(D.icons),E={props:{name:{type:String,required:!0,validator(s){const e=Y.includes(s);return e||(console.groupCollapsed("[frappe-ui] name property for feather-icon must be one of "),console.dir(Y),console.groupEnd()),e}},color:{type:String,default:null},strokeWidth:{type:Number,default:1.5}},render(){let s=D.icons[this.name];return s||(s=D.icons.circle),ue("svg",_(s.attrs,{fill:"none",stroke:"currentColor",color:this.color,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":this.strokeWidth,width:null,height:null,class:[s.attrs.class,"shrink-0"],innerHTML:s.contents},this.$attrs))}},Ae={name:"LoadingIndicator"},je={class:"max-w-xs animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"};function Te(s,e,t,l,o,u){return n(),p("svg",je,e[0]||(e[0]=[g("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),g("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))}const Pe=N(Ae,[["render",Te]]),Be=["disabled","ariaLabel"],W=O({__name:"Button",props:{theme:{default:"gray"},size:{default:"sm"},variant:{default:"subtle"},label:{},icon:{},iconLeft:{},iconRight:{},loading:{type:Boolean,default:!1},loadingText:{},disabled:{type:Boolean,default:!1},route:{},link:{}},setup(s){const e=s,t=Q(),l=de(),o=y(()=>{let a={gray:"text-white bg-gray-900 hover:bg-gray-800 active:bg-gray-700",blue:"text-white bg-blue-500 hover:bg-blue-600 active:bg-blue-700",green:"text-white bg-green-600 hover:bg-green-700 active:bg-green-800",red:"text-white bg-red-600 hover:bg-red-700 active:bg-red-800"}[e.theme],S={gray:"text-gray-800 bg-gray-100 hover:bg-gray-200 active:bg-gray-300",blue:"text-blue-600 bg-blue-100 hover:bg-blue-200 active:bg-blue-300",green:"text-green-800 bg-green-100 hover:bg-green-200 active:bg-green-300",red:"text-red-700 bg-red-100 hover:bg-red-200 active:bg-red-300"}[e.theme],h={gray:"text-gray-800 bg-white border border-gray-300 hover:border-gray-400 active:border-gray-400 active:bg-gray-300",blue:"text-blue-600 bg-white border border-blue-300 hover:border-blue-400 active:border-blue-400 active:bg-blue-300",green:"text-green-800 bg-white border border-green-400 hover:border-green-500 active:border-green-500 active:bg-green-300",red:"text-red-700 bg-white border border-red-300 hover:border-red-400 active:border-red-400 active:bg-red-200"}[e.theme],x={gray:"text-gray-800 bg-transparent hover:bg-gray-200 active:bg-gray-300",blue:"text-blue-600 bg-transparent hover:bg-blue-200 active:bg-blue-300",green:"text-green-800 bg-transparent hover:bg-green-200 active:bg-green-300",red:"text-red-700 bg-transparent hover:bg-red-200 active:bg-red-300"}[e.theme],$={gray:"focus-visible:ring focus-visible:ring-gray-400",blue:"focus-visible:ring focus-visible:ring-blue-400",green:"focus-visible:ring focus-visible:ring-green-400",red:"focus-visible:ring focus-visible:ring-red-400"}[e.theme],H={subtle:S,solid:a,outline:h,ghost:x}[e.variant],M=`${e.theme}-${e.variant}`,G={gray:"bg-gray-100 text-gray-500","gray-outline":"bg-gray-100 text-gray-500 border border-gray-300","gray-ghost":"text-gray-500","blue-solid":"bg-blue-300 text-white","blue-subtle":"bg-blue-100 text-blue-400","blue-outline":"bg-blue-100 text-blue-400 border border-blue-300","blue-ghost":"text-blue-400",green:"bg-green-100 text-green-500","green-outline":"bg-green-100 text-green-500 border border-green-400","green-ghost":"text-green-500",red:"bg-red-100 text-red-400","red-outline":"bg-red-100 text-red-400 border border-red-300","red-ghost":"text-red-400"},ne=G[M]||G[e.theme],U={sm:"h-7 text-base px-2 rounded",md:"h-8 text-base font-medium px-2.5 rounded",lg:"h-10 text-lg font-medium px-3 rounded-md",xl:"h-11.5 text-xl font-medium px-3.5 rounded-lg","2xl":"h-13 text-2xl font-medium px-3.5 rounded-xl"}[e.size];return d.value&&(U={sm:"h-7 w-7 rounded",md:"h-8 w-8 rounded",lg:"h-10 w-10 rounded-md",xl:"h-11.5 w-11.5 rounded-lg","2xl":"h-13 w-13 rounded-xl"}[e.size]),["inline-flex items-center justify-center gap-2 transition-colors focus:outline-none",f.value?ne:H,$,U]}),u=y(()=>({sm:"h-4",md:"h-4.5",lg:"h-5",xl:"h-6","2xl":"h-6"})[e.size]),f=y(()=>e.disabled||e.loading),i=y(()=>d.value?e.label:null),d=y(()=>e.icon||t.icon),c=()=>{if(e.route)return l.push(e.route);if(e.link)return window.open(e.link,"_blank")};return(a,S)=>(n(),p("button",_(a.$attrs,{class:o.value,onClick:c,disabled:f.value,ariaLabel:i.value}),[a.loading?(n(),b(Pe,{key:0,class:v({"h-3 w-3":a.size=="sm","h-[13.5px] w-[13.5px]":a.size=="md","h-[15px] w-[15px]":a.size=="lg","h-4.5 w-4.5":a.size=="xl"||a.size=="2xl"})},null,8,["class"])):a.$slots.prefix||a.iconLeft?m(a.$slots,"prefix",{key:1},()=>[a.iconLeft?(n(),b(E,{key:0,name:a.iconLeft,class:v(u.value),"aria-hidden":"true"},null,8,["name","class"])):w("",!0)]):w("",!0),a.loading&&a.loadingText?(n(),p(L,{key:2},[I(R(a.loadingText),1)],64)):d.value&&!a.loading?(n(),p(L,{key:3},[a.icon?(n(),b(E,{key:0,name:a.icon,class:v(u.value),"aria-label":a.label},null,8,["name","class","aria-label"])):a.$slots.icon?m(a.$slots,"icon",{key:1}):w("",!0)],64)):(n(),p("span",{key:4,class:v({"sr-only":d.value})},[m(a.$slots,"default",{},()=>[I(R(a.label),1)])],2)),m(a.$slots,"suffix",{},()=>[a.iconRight?(n(),b(E,{key:0,name:a.iconRight,class:v(u.value),"aria-hidden":"true"},null,8,["name","class"])):w("",!0)])],16,Be))}}),Me={class:"flex h-full w-full flex-col items-center justify-center text-base"},Ie={class:"text-xl font-medium"},He={class:"mt-1 text-base text-gray-600"},Ee={__name:"ListEmptyState",setup(s){const e=z("list");return(t,l)=>(n(),p("div",Me,[m(t.$slots,"default",{},()=>[g("div",Ie,R(r(e).options.emptyState.title),1),g("div",He,R(r(e).options.emptyState.description),1),r(e).options.emptyState.button?(n(),b(W,_({key:0},r(e).options.emptyState.button,{class:"mt-4"}),null,16)):w("",!0)])]))}};let Ve=0;function De(){return++Ve}function We(){return"frappe-ui-"+De()}const Ne=["disabled","id","checked"],Oe=["for"],q=O({__name:"Checkbox",props:{size:{default:"sm"},label:{},checked:{type:Boolean},disabled:{type:Boolean},padding:{type:Boolean,default:!1},modelValue:{type:[Boolean,Number]},id:{}},setup(s){var f;const e=s,t=ce(),l=(f=e.id)!=null?f:We(),o=y(()=>[{sm:"text-base font-medium",md:"text-lg font-medium"}[e.size],e.disabled?"text-gray-500":"text-gray-800","select-none"]),u=y(()=>{let i=e.disabled?"border-gray-300 bg-gray-50 text-gray-400":"border-gray-500 text-gray-900 hover:border-gray-600 focus:ring-offset-0 focus:border-gray-900 active:border-gray-700 transition",d=e.disabled?"":e.padding?"focus:ring-0":"hover:shadow-sm focus:ring-0 focus-visible:ring-2 focus-visible:ring-gray-400 active:bg-gray-100",c={sm:"w-3.5 h-3.5",md:"w-4 h-4"}[e.size];return[i,d,c]});return(i,d)=>(n(),p("div",{class:v(["inline-flex items-center space-x-2 rounded transition",{"px-2.5 py-1.5":i.padding&&i.size==="sm","px-3 py-2":i.padding&&i.size==="md","focus-within:bg-gray-100 focus-within:ring-2 focus-within:ring-gray-400 hover:bg-gray-200 active:bg-gray-300":i.padding&&!i.disabled}])},[g("input",_({class:["rounded-sm",u.value],type:"checkbox",disabled:i.disabled,id:r(l),checked:!!i.modelValue,onChange:d[0]||(d[0]=c=>i.$emit("update:modelValue",c.target.checked))},r(t)),null,16,Ne),i.label?(n(),p("label",{key:0,class:v(["block",o.value]),for:r(l)},R(i.label),11,Oe)):w("",!0)],2))}});function oe(s,e=!0){let t=e?"14px ":"",l=s.map(o=>{let u=o.width||1;return typeof u=="number"?u+"fr":u}).join(" ");return t+l}const F={left:"justify-start",start:"justify-start",center:"justify-center",middle:"justify-center",right:"justify-end",end:"justify-end"},Ke={class:"truncate"},qe={__name:"ListHeaderItem",props:{item:{type:Object,required:!0},debounce:{type:Number,default:1e3}},emits:["columnWidthUpdated"],setup(s,{emit:e}){const t=s,l=e,o=j(null),u=j(null),f=y(()=>{if(typeof t.item.width=="string"){const a=parseInt(t.item.width);if(t.item.width.includes("rem"))return a*16;if(t.item.width.includes("px"))return a}return u.value.offsetWidth}),i=a=>{const S=a.clientX,h=f.value,x=H=>{document.body.classList.add("select-none"),document.body.classList.add("cursor-col-resize"),o.value.style.backgroundColor="rgb(199 199 199)";let M=h+(H.clientX-S);t.item.width=`${M<50?50:M}px`,d(t.item.width)},$=()=>{document.body.classList.remove("select-none"),document.body.classList.remove("cursor-col-resize"),o.value.style.backgroundColor="",window.removeEventListener("mousemove",x),window.removeEventListener("mouseup",$)};window.addEventListener("mousemove",x),window.addEventListener("mouseup",$)},d=be(a=>{t.item.width=a,l("columnWidthUpdated")},t.debounce),c=z("list");return(a,S)=>(n(),p("div",{ref_key:"columnRef",ref:u,class:v(["group flex items-center",s.item.align?r(F)[s.item.align]:"justify-between"])},[g("div",{class:v(["flex items-center space-x-2 truncate text-sm text-gray-600",a.$attrs.class])},[m(a.$slots,"prefix",A(T({item:s.item}))),m(a.$slots,"default",{},()=>[g("div",Ke,R(s.item.label),1)]),m(a.$slots,"suffix",A(T({item:s.item})))],2),r(c).options.resizeColumn?m(a.$slots,"resizer",A(_({key:0},{item:s.item})),()=>[g("div",{class:"flex h-4 w-2 cursor-col-resize justify-center",onMousedown:i},[g("div",{ref_key:"resizer",ref:o,class:"h-full w-[2px] rounded-full transition-all duration-300 ease-in-out group-hover:bg-gray-400"},null,512)],32)]):w("",!0)],2))}},Fe={__name:"ListHeader",emits:["columnWidthUpdated"],setup(s,{emit:e}){const t=e,l=z("list");return(o,u)=>(n(),p("div",{class:"mb-2 grid items-center space-x-4 rounded bg-gray-100 p-2",style:te({gridTemplateColumns:r(oe)(r(l).columns,r(l).options.selectable)})},[r(l).options.selectable?(n(),b(q,{key:0,class:"cursor-pointer duration-300",modelValue:r(l).allRowsSelected,onClick:ee(r(l).toggleAllRows,["stop"])},null,8,["modelValue","onClick"])):w("",!0),m(o.$slots,"default",{},()=>[(n(!0),p(L,null,B(r(l).columns,f=>(n(),b(qe,{key:f.key,item:f,onColumnWidthUpdated:i=>t("columnWidthUpdated",f)},null,8,["item","onColumnWidthUpdated"]))),128))])],4))}};j([]);const Z=s=>new Promise(e=>{let t=new FileReader;t.onloadend=()=>{e(t.result)},t.readAsDataURL(s)}),Ge=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/;se.create({name:"image",addOptions(){return{inline:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:"img[src]"}]},renderHTML({HTMLAttributes:s}){return["img",re(this.options.HTMLAttributes,s)]},addCommands(){return{setImage:s=>({commands:e})=>e.insertContent({type:this.name,attrs:s})}},addInputRules(){return[ge({find:Ge,type:this.type,getAttributes:s=>{const[,,e,t,l]=s;return{src:t,alt:e,title:l}}})]},addProseMirrorPlugins(){return[Ue()]}});const Ue=()=>new fe({props:{handlePaste(s,e,t){var u;const l=Array.from(((u=e.clipboardData)==null?void 0:u.items)||[]),{schema:o}=s.state;return l.forEach(f=>{const i=f.getAsFile();i&&f.type.indexOf("image")===0&&(e.preventDefault(),Z(i).then(d=>{const c=o.nodes.image.create({src:d}),a=s.state.tr.replaceSelectionWith(c);s.dispatch(a)}))}),!1},handleDOMEvents:{drop:(s,e)=>{var f,i;if(!(e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files.length))return!1;const l=Array.from((i=(f=e.dataTransfer)==null?void 0:f.files)!=null?i:[]).filter(d=>/image/i.test(d.type));if(l.length===0)return!1;e.preventDefault();const{schema:o}=s.state,u=s.posAtCoords({left:e.clientX,top:e.clientY});return u?(l.forEach(d=>X(void 0,null,function*(){Z(d).then(c=>{const a=o.nodes.image.create({src:c}),S=s.state.tr.insert(u.pos,a);s.dispatch(S)})})),!0):!1}}}});se.create({name:"video",group:"block",selectable:!0,draggable:!0,atom:!0,addAttributes(){return{src:{default:null}}},parseHTML(){return[{tag:"video"}]},renderHTML({HTMLAttributes:s}){return["video",re(s)]},addNodeView(){return({editor:s,node:e})=>{const t=document.createElement("div");t.className="relative aspect-w-16 aspect-h-9"+(s.isEditable?" cursor-pointer":"");const l=document.createElement("video");if(s.isEditable&&(l.className="pointer-events-none"),l.src=e.attrs.src,!s.isEditable)l.setAttribute("controls","");else{let o=document.createElement("div");o.className="absolute top-0 right-0 text-xs m-2 bg-gray-800 text-white px-2 py-1 rounded-md",o.innerHTML="Video",t.append(o)}return t.append(l),{dom:t}}}});const Xe={},Ye={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 16 16"};function Ze(s,e){return n(),p("svg",Ye,e[0]||(e[0]=[g("path",{fill:"currentColor",d:"M4.293 5.28h7.413a.5.5 0 0 1 .41.787l-3.707 5.295a.5.5 0 0 1-.82 0L3.884 6.067a.5.5 0 0 1 .41-.787Z"},null,-1)]))}const Je=N(Xe,[["render",Ze]]),Qe={class:"flex items-center"},et={class:"w-full py-1.5 pr-2"},tt={key:1,class:"text-base font-medium leading-6"},st={__name:"ListGroupHeader",props:{group:{type:Object,required:!0}},setup(s){const e=s,t=z("list");function l(){e.group.collapsed==null&&(e.group.collapsed=!1),e.group.collapsed=!e.group.collapsed}return(o,u)=>(n(),p(L,null,[g("div",Qe,[g("button",{onClick:l,class:"ml-[3px] mr-[11px] rounded p-1 hover:bg-gray-100"},[k(Je,{class:v(["h-4 w-4 text-gray-900 transition-transform duration-200",[s.group.collapsed?"-rotate-90":""]])},null,8,["class"])]),m(o.$slots,"default",{},()=>[g("div",et,[r(t).slots["group-header"]?(n(),b(P(r(t).slots["group-header"]),A(_({key:0},{group:s.group})),null,16)):(n(),p("span",tt,R(s.group.group),1))])])]),u[0]||(u[0]=g("div",{class:"mx-2 h-px border-t border-gray-200"},null,-1))],64))}},rt={key:0,class:"mb-5 mt-2"},ot={__name:"ListGroupRows",props:{group:{type:Object,required:!0}},setup(s){const e=z("list");return(t,l)=>s.group.collapsed?w("",!0):(n(),p("div",rt,[m(t.$slots,"default",{},()=>[(n(!0),p(L,null,B(s.group.rows,o=>(n(),b(le,{key:o[r(e).rowKey],row:o},null,8,["row"]))),128))])]))}},lt={class:"h-full overflow-y-auto"},nt={__name:"ListGroups",setup(s){const e=z("list");return(t,l)=>(n(),p("div",lt,[(n(!0),p(L,null,B(r(e).rows,o=>(n(),p("div",{key:o.group},[m(t.$slots,"default",{},()=>[k(st,{group:o},{default:C(()=>[t.$slots["group-header"]?m(t.$slots,"group-header",_({key:0,ref_for:!0},{group:o})):w("",!0)]),_:2},1032,["group"]),k(ot,{group:o},null,8,["group"])])]))),128))]))}},at={key:0,class:"absolute inset-x-0 bottom-6 mx-auto w-max text-base"},it={class:"flex flex-1 justify-between border-r border-gray-300 text-gray-900"},ut={class:"flex items-center space-x-3"},dt={class:"mr-3"},ct={class:"flex items-center space-x-1"},gt=Object.assign({inheritAttrs:!1},{__name:"ListSelectBanner",setup(s){const e=z("list");let t=y(()=>{let l=e.value.selections.size===1?"Row":"Rows";return`${e.value.selections.size} ${l} selected`});return(l,o)=>(n(),b(pe,{"enter-active-class":"duration-300 ease-out","enter-from-class":"transform opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-300 ease-in","leave-from-class":"opacity-100","leave-to-class":"transform opacity-0"},{default:C(()=>[r(e).selections.size?(n(),p("div",at,[g("div",{class:v(["flex min-w-[596px] items-center space-x-3 rounded-lg bg-white px-4 py-2 shadow-2xl",l.$attrs.class])},[m(l.$slots,"default",A(T({selections:r(e).selections,allRowsSelected:r(e).allRowsSelected,selectAll:()=>r(e).toggleAllRows(!0),unselectAll:()=>r(e).toggleAllRows(!1)})),()=>[g("div",it,[g("div",ut,[k(q,{modelValue:!0,disabled:!0,class:"text-gray-900"}),g("div",null,R(r(t)),1)]),g("div",dt,[m(l.$slots,"actions",A(T({selections:r(e).selections,allRowsSelected:r(e).allRowsSelected,selectAll:()=>r(e).toggleAllRows(!0),unselectAll:()=>r(e).toggleAllRows(!1)})))])]),g("div",ct,[k(W,{class:v(["w- text-gray-700",r(e).allRowsSelected?"cursor-not-allowed":""]),disabled:r(e).allRowsSelected,variant:"ghost",onClick:o[0]||(o[0]=u=>r(e).toggleAllRows(!0))},{default:C(()=>o[2]||(o[2]=[I(" Select all ")])),_:1},8,["disabled","class"]),k(W,{icon:"x",variant:"ghost",onClick:o[1]||(o[1]=u=>r(e).toggleAllRows(!1))})])])],2)])):w("",!0)]),_:3}))}});j([]);const ft={class:"rounded bg-gray-900 px-2 py-1 text-xs text-white shadow-xl"},pt=O({inheritAttrs:!1,__name:"Tooltip",props:{text:{default:""},hoverDelay:{default:.5},placement:{default:"top"},arrowClass:{default:"fill-gray-900"},disabled:{type:Boolean,default:!1}},setup(s){const e=s,t=y(()=>e.hoverDelay*1e3);return(l,o)=>l.disabled?m(l.$slots,"default",{key:0}):(n(),b(r(ke),{key:1,delayDuration:t.value},{default:C(()=>[k(r(he),null,{default:C(()=>[k(r(ye),{"as-child":""},{default:C(()=>[m(l.$slots,"default")]),_:3}),k(r(ve),null,{default:C(()=>[e.text||l.$slots.body?(n(),b(r(we),{key:0,side:e.placement,"side-offset":4,class:"z-[100]"},{default:C(()=>[m(l.$slots,"body",{},()=>[g("div",ft,[g("div",null,R(e.text),1)])]),k(r(xe),{class:v(e.arrowClass),width:8,height:4},null,8,["class"])]),_:3},8,["side"])):w("",!0)]),_:3})]),_:3})]),_:3},8,["delayDuration"]))}});let V=document.querySelector('link[rel="icon"]');V==null||V.href;K({});K({});const mt={class:"truncate text-base"},bt={__name:"ListRowItem",props:{column:{type:Object,default:{}},row:{type:Object,default:{}},item:{type:[String,Number,Object],default:""},align:{type:String,default:"left"}},setup(s){const e=s,t=y(()=>l(e.item).label||"");function l(u){return u&&typeof u=="object"?u:{label:u}}const o=z("list");return(u,f)=>(n(),b(P(r(o).options.showTooltip?r(pt):"div"),A(T(r(o).options.showTooltip?{text:t.value}:{})),{default:C(()=>[g("div",{class:v(["flex items-center space-x-2",r(F)[s.align]])},[m(u.$slots,"prefix",{},()=>[s.column.prefix?(n(),b(P(typeof s.column.prefix=="function"?s.column.prefix({row:s.row}):s.column.prefix),{key:0})):w("",!0)]),m(u.$slots,"default",A(T({label:t.value})),()=>{var i;return[g("div",mt,R((i=s.column)!=null&&i.getLabel?s.column.getLabel({row:s.row}):t.value),1)]}),m(u.$slots,"suffix")],2)]),_:3},16))}},ht={key:0,class:"mx-2 h-px border-t border-gray-200"},le={__name:"ListRow",props:{row:{type:Object,required:!0}},setup(s){const e=s,t=z("list"),l=y(()=>{var i;return(i=t.value.rows)!=null&&i.length?t.value.rows[t.value.rows.length-1][t.value.rowKey]===e.row[t.value.rowKey]:!1}),o=y(()=>t.value.selections.has(e.row[t.value.rowKey])),u=y(()=>t.value.options.getRowRoute||t.value.options.onRowClick),f=y(()=>typeof t.value.options.rowHeight=="number"?`${t.value.options.rowHeight}px`:t.value.options.rowHeight);return(i,d)=>(n(),b(P(r(t).options.getRowRoute?"router-link":"div"),_({class:[{"cursor-pointer":u.value},"flex flex-col transition-all duration-300 ease-in-out"]},{to:r(t).options.getRowRoute?r(t).options.getRowRoute(s.row):void 0,onClick:r(t).options.onRowClick?()=>r(t).options.onRowClick(s.row):void 0}),{default:C(()=>[(n(),b(P(r(t).options.getRowRoute?"template":"button"),{class:"[all:unset] hover:[all:unset]"},{default:C(()=>[g("div",{class:v(["grid items-center space-x-4 rounded px-2",[o.value?"bg-gray-100":"",u.value?o.value?"hover:bg-gray-200":"hover:bg-gray-50":""]]),style:te({height:f.value,gridTemplateColumns:r(oe)(r(t).columns,r(t).options.selectable)})},[r(t).options.selectable?(n(),b(q,{key:0,modelValue:r(t).selections.has(s.row[r(t).rowKey]),onClick:d[0]||(d[0]=ee(c=>r(t).toggleRow(s.row[r(t).rowKey]),["stop"])),class:"cursor-pointer duration-300"},null,8,["modelValue"])):w("",!0),(n(!0),p(L,null,B(r(t).columns,(c,a)=>(n(),p("div",{key:c.key,class:v([r(F)[c.align],a==0?"text-gray-900":"text-gray-700"])},[m(i.$slots,"default",_({ref_for:!0},{idx:a,column:c,item:s.row[c.key]}),()=>[r(t).slots.cell?(n(),b(P(r(t).slots.cell),_({key:0,ref_for:!0},{column:c,row:s.row,item:s.row[c.key],align:c.align}),null,16)):(n(),b(bt,{key:1,column:c,row:s.row,item:s.row[c.key],align:c.align},null,8,["column","row","item","align"]))])],2))),128))],6),l.value?w("",!0):(n(),p("div",ht))]),_:3}))]),_:3},16,["class"]))}},yt={class:"h-full overflow-y-auto"},vt={__name:"ListRows",setup(s){const e=z("list");return(t,l)=>(n(),p("div",yt,[m(t.$slots,"default",{},()=>[(n(!0),p(L,null,B(r(e).rows,o=>(n(),b(le,{key:o[r(e).rowKey],row:o},null,8,["row"]))),128))])]))}},wt={class:"relative flex w-full flex-1 flex-col overflow-x-auto"},_t=Object.assign({inheritAttrs:!1},{__name:"ListView",props:{columns:{type:Array,default:[]},rows:{type:Array,default:[]},rowKey:{type:String,required:!0},options:{type:Object,default:()=>({getRowRoute:null,onRowClick:null,showTooltip:!0,selectable:!0,resizeColumn:!1,rowHeight:40,emptyState:{title:"No Data",description:"No data available"}})}},emits:["update:selections"],setup(s,{emit:e}){const t=s,l=Q();let o=K(new Set);const u=e;J(o,h=>{u("update:selections",h)});let f=y(()=>{function h($){return $===void 0?!0:$}function x($){return $===void 0?!1:$}return{getRowRoute:t.options.getRowRoute||null,onRowClick:t.options.onRowClick||null,showTooltip:h(t.options.showTooltip),selectable:h(t.options.selectable),resizeColumn:x(t.options.resizeColumn),rowHeight:t.options.rowHeight||40,emptyState:t.options.emptyState}});const i=y(()=>t.rows.length?c.value?o.size===t.rows.reduce((h,x)=>h+x.rows.length,0):o.size===t.rows.length:!1),d=y(()=>f.value.selectable);let c=y(()=>t.rows.every(h=>h.group&&h.rows&&Array.isArray(h.rows)));function a(h){o.delete(h)||o.add(h)}function S(h){if(!h||i.value){o.clear();return}if(c.value){t.rows.forEach(x=>{x.rows.forEach($=>o.add($[t.rowKey]))});return}t.rows.forEach(x=>o.add(x[t.rowKey]))}return me("list",y(()=>({rowKey:t.rowKey,rows:t.rows,columns:t.columns,options:f.value,selections:o,allRowsSelected:i.value,slots:l,toggleRow:a,toggleAllRows:S}))),(h,x)=>(n(),p("div",wt,[g("div",{class:v(["flex w-max min-w-full flex-col overflow-y-hidden",h.$attrs.class])},[m(h.$slots,"default",A(T({showGroupedRows:r(c),selectable:d.value})),()=>[k(Fe),t.rows.length?(n(),p(L,{key:0},[r(c)?(n(),b(nt,{key:0})):(n(),b(vt,{key:1}))],64)):(n(),b(Ee,{key:1})),d.value?(n(),b(gt,{key:2})):w("",!0)])],2)]))}});export{Rt as P,_t as _};
